/* Mobile Responsive Styles for LDPlayer and Mobile Devices */

/* Force mobile viewport */
:root {
  --mobile-breakpoint: 768px;
  --mobile-padding: 8px;
  --mobile-font-size: 14px;
}

/* Base mobile styles - Apply to all small screens including LDPlayer */
@media (max-width: 768px), (max-device-width: 768px) {
  /* Hide desktop sidebar, use bottom navigation */
  .sidebar-desktop {
    display: none !important;
  }

  /* Main layout adjustments */
  .main-content {
    margin-left: 0 !important;
    padding-bottom: 70px !important; /* Space for bottom nav */
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }

  /* Dashboard container */
  .dashboard-container {
    padding: 8px !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
  }

  /* Fix for all containers */
  .container, [class*="container"] {
    max-width: 100% !important;
    padding-left: var(--mobile-padding) !important;
    padding-right: var(--mobile-padding) !important;
  }

  /* Stats cards responsive */
  .stats-grid {
    grid-template-columns: 1fr 1fr !important;
    gap: 10px !important;
  }

  .stat-card {
    padding: 12px !important;
    font-size: 14px !important;
  }

  .stat-value {
    font-size: 20px !important;
  }

  /* Tables responsive */
  .table-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    max-width: 100vw !important;
  }

  table {
    font-size: 12px !important;
  }

  th, td {
    padding: 8px 4px !important;
    white-space: nowrap !important;
  }

  /* Hide less important columns on mobile */
  .hide-on-mobile {
    display: none !important;
  }

  /* Buttons and inputs */
  button, input, select, textarea {
    min-height: 44px !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Fix button groups */
  .btn-group, .button-group {
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
  }

  .btn-group > *, .button-group > * {
    width: 100% !important;
  }

  /* Modals and dialogs */
  .modal-content,
  [role="dialog"] {
    width: calc(100vw - 20px) !important;
    max-width: 100% !important;
    margin: 10px !important;
    max-height: calc(100vh - 20px) !important;
  }

  /* Forms */
  .form-row {
    flex-direction: column !important;
  }

  .form-group {
    margin-bottom: 15px !important;
  }

  /* Tabs */
  .tabs-list {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    justify-content: start !important;
  }

  .tab-trigger {
    padding: 10px 15px !important;
    white-space: nowrap !important;
  }

  /* Cards and panels */
  .card {
    margin: 10px 0 !important;
    border-radius: 8px !important;
  }

  /* Profile and task cards */
  .profile-card,
  .task-card {
    padding: 12px !important;
  }

  /* Action buttons group */
  .action-buttons {
    flex-wrap: wrap !important;
    gap: 5px !important;
  }

  .action-button {
    flex: 1 1 calc(50% - 5px) !important;
    min-width: 100px !important;
  }

  /* Dropdown menus */
  .dropdown-menu {
    width: calc(100vw - 40px) !important;
    max-width: 320px !important;
  }

  /* Search bars */
  .search-container {
    width: 100% !important;
  }

  .search-input {
    width: 100% !important;
  }

  /* Headers */
  h1 { font-size: 24px !important; }
  h2 { font-size: 20px !important; }
  h3 { font-size: 18px !important; }
  h4 { font-size: 16px !important; }

  /* Spacing adjustments */
  .p-6 { padding: 16px !important; }
  .p-4 { padding: 12px !important; }
  .mb-6 { margin-bottom: 16px !important; }
  .mb-4 { margin-bottom: 12px !important; }
  .gap-6 { gap: 16px !important; }
  .gap-4 { gap: 12px !important; }
}

/* Bottom Navigation Bar */
.mobile-bottom-nav {
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 60px;
  background: hsl(var(--background));
  border-top: 1px solid hsl(var(--border));
  z-index: 999;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
}

@media (max-width: 768px), (max-device-width: 768px) {
  .mobile-bottom-nav {
    display: flex !important;
    justify-content: space-around;
    align-items: center;
    padding: 0 10px;
  }

  .mobile-nav-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 8px 0;
    color: hsl(var(--muted-foreground));
    text-decoration: none;
    transition: color 0.2s;
    cursor: pointer;
    background: transparent;
    border: none;
    gap: 4px;
  }

  .mobile-nav-item svg {
    width: 20px;
    height: 20px;
  }

  .mobile-nav-item span {
    font-size: 11px;
    text-align: center;
  }

  .mobile-nav-item.active {
    color: hsl(var(--primary));
  }

  .mobile-nav-item:active {
    transform: scale(0.95);
  }
}

/* Login page specific styles */
@media (max-width: 768px), (max-device-width: 768px) {
  .login-container {
    padding: 20px !important;
    min-height: 100vh !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .login-card {
    width: 100% !important;
    max-width: 400px !important;
    margin: 0 !important;
  }

  .login-form {
    padding: 20px !important;
  }

  .login-title {
    font-size: 24px !important;
    margin-bottom: 20px !important;
  }
}

/* Small phones (iPhone SE, etc.) */
@media (max-width: 375px), (max-device-width: 375px) {
  .stats-grid {
    grid-template-columns: 1fr !important;
  }

  .action-button {
    flex: 1 1 100% !important;
  }

  .mobile-nav-item span {
    font-size: 10px;
  }
}

/* Landscape mode adjustments */
@media (max-width: 768px) and (orientation: landscape) {
  .mobile-bottom-nav {
    height: 50px;
  }

  .main-content {
    padding-bottom: 60px !important;
  }

  .stats-grid {
    grid-template-columns: repeat(4, 1fr) !important;
  }
}

/* Touch-friendly hover states */
@media (hover: none) and (pointer: coarse) {
  button:hover,
  a:hover {
    opacity: 1 !important;
  }

  button:active,
  a:active {
    opacity: 0.8 !important;
  }
}

/* Scrollbar styling for mobile */
@media (max-width: 768px) {
  ::-webkit-scrollbar {
    width: 4px !important;
    height: 4px !important;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3) !important;
    border-radius: 2px !important;
  }
}

/* Loading spinner for mobile */
.mobile-loading {
  display: flex;
  justify-content: center;
  align-items: center;
  height: calc(100vh - 120px);
}

/* Floating Action Button */
.fab {
  display: none;
}

@media (max-width: 768px) {
  .fab {
    display: flex !important;
    position: fixed;
    bottom: 80px;
    right: 20px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: hsl(var(--primary));
    color: white;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 998;
    border: none;
    cursor: pointer;
  }

  .fab:active {
    transform: scale(0.95);
  }

  .fab svg {
    width: 24px;
    height: 24px;
  }
}

/* Toast notifications for mobile */
@media (max-width: 768px) {
  .toast-container {
    bottom: 70px !important;
    left: 10px !important;
    right: 10px !important;
  }

  .toast {
    width: 100% !important;
    margin: 0 !important;
  }
}

/* Animation performance for mobile */
@media (max-width: 768px) {
  * {
    animation-duration: 0.2s !important;
  }

  .no-animation {
    animation: none !important;
    transition: none !important;
  }
}